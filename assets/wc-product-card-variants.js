var w=Object.defineProperty;var g=(c,s,t)=>s in c?w(c,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[s]=t;var r=(c,s,t)=>g(c,typeof s!="symbol"?s+"":s,t);window.customElements.define("wc-product-card-variants",class extends HTMLElement{constructor(){super();r(this,"swatchBtns",null);r(this,"imgPrimary",null);r(this,"imgSecondary",null);r(this,"activeSwatchId",null);r(this,"widths",[]);this.onSwatchChange=this.onSwatchChange.bind(this)}disconnectedCallback(){this.kill()}connectedCallback(){this.init()}init(){var t,e,h;this.swatchBtns=this.querySelectorAll("button.swatch"),this.imgPrimary=this.querySelector("img[data-slot='image-primary']"),this.imgSecondary=this.querySelector("img[data-slot='image-secondary']"),this.widths=((e=(t=this.imgPrimary)==null?void 0:t.dataset.widths)==null?void 0:e.split(",").map(a=>a.trim()))??[],(h=this.swatchBtns)==null||h.forEach(a=>a.addEventListener("click",this.onSwatchChange))}kill(){var t;(t=this.swatchBtns)==null||t.forEach(e=>e.removeEventListener("click",this.onSwatchChange))}onSwatchChange(t){var d,l,m;const e=t.target,{images:h,swatchId:a}=e.dataset;if(!a||this.activeSwatchId===a)return;this.activeSwatchId=a,(d=this.swatchBtns)==null||d.forEach(n=>{const o=n===e?"true":"false";n.dataset.selected=o,n.setAttribute("aria-selected",o)});const i=window.Utils.parseJSON(h??"[]");this.imgPrimary&&(this.imgPrimary.src=i[0]?window.Utils.resizeImage(i[0].src,"100x"):"",this.imgPrimary.srcset=i[0]?window.Utils.generateImgSrcset(i[0].src,this.widths):"",this.imgPrimary.alt=((l=i[0])==null?void 0:l.alt)??""),this.imgSecondary&&(this.imgSecondary.src=i[1]?window.Utils.resizeImage(i[1].src,"100x"):"",this.imgSecondary.srcset=i[1]?window.Utils.generateImgSrcset(i[1].src,this.widths):"",this.imgSecondary.alt=((m=i[1])==null?void 0:m.alt)??"")}});
