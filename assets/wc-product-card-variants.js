var m=Object.defineProperty;var g=(n,a,t)=>a in n?m(n,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[a]=t;var r=(n,a,t)=>g(n,typeof a!="symbol"?a+"":a,t);window.customElements.define("wc-product-card-variants",class extends HTMLElement{constructor(){super();r(this,"swatchBtns",null);r(this,"imgPrimary",null);r(this,"imgSecondary",null);r(this,"activeSwatchId",null);r(this,"widths",[]);this.onSwatchChange=this.onSwatchChange.bind(this)}disconnectedCallback(){this.kill()}connectedCallback(){this.init()}init(){var t,s,c;this.swatchBtns=this.querySelectorAll("button.swatch"),this.imgPrimary=this.querySelector("img[data-slot='image-primary']"),this.imgSecondary=this.querySelector("img[data-slot='image-secondary']"),this.widths=((s=(t=this.imgPrimary)==null?void 0:t.dataset.widths)==null?void 0:s.split(",").map(e=>e.trim()))??[],(c=this.swatchBtns)==null||c.forEach(e=>e.addEventListener("click",this.onSwatchChange))}kill(){var t;(t=this.swatchBtns)==null||t.forEach(s=>s.removeEventListener("click",this.onSwatchChange))}onSwatchChange(t){var l;const s=t.target,{images:c,swatchId:e}=s.dataset;if(!e||this.activeSwatchId===e)return;this.activeSwatchId=e,(l=this.swatchBtns)==null||l.forEach(i=>{const h=i===s?"true":"false";i.dataset.selected=h,i.setAttribute("aria-selected",h)});const w=window.Utils.parseJSON(c??"[]");[this.imgPrimary,this.imgSecondary].forEach((i,h)=>{const o=w[h],d=i==null?void 0:i.parentElement;o&&d?(this.updateImage(i,o),d.classList.remove("hidden")):d&&d.classList.add("hidden")})}updateImage(t,s){if(!t)return;const{src:c,alt:e=""}=s;t.src=window.Utils.resizeImage(c,"100x"),t.srcset=window.Utils.generateImgSrcset(c,this.widths),t.alt=e}});
