window.customElements.define("wc-product-card-colorways",class extends HTMLElement{constructor(){super(),this.swatchBtns=null,this.handle=void 0,this.onSwatchChange=this.onSwatchChange.bind(this)}disconnectedCallback(){this.kill()}connectedCallback(){this.init()}init(){var t;this.swatchBtns=this.querySelectorAll("button.swatch"),(t=this.swatchBtns)==null||t.forEach(e=>e.addEventListener("click",this.onSwatchChange))}kill(){var t;(t=this.swatchBtns)==null||t.forEach(e=>e.removeEventListener("click",this.onSwatchChange))}async onSwatchChange(t){var r;const e=t.target,{handle:s}=e.dataset;if(!s||this.dataset.handle===s)return;(r=this.swatchBtns)==null||r.forEach(c=>{const o=c===e;c.dataset.selected=o?"true":"false",c.setAttribute("aria-selected",o?"true":"false")}),this.dataset.loading="true";const{data:a,error:n}=await window.Utils.fatche(`/products/${s}`,{view:"card"});if(this.dataset.loading="false",!a||n){console.error(n);return}this.dataset.handle=s,this.renderToProductCardSlots(a.html,["images","info"])}renderToProductCardSlots(t,e){const s=window.Utils.domParser.parseFromString(t,"text/html");e.forEach(a=>{const n=s.querySelector(`[data-slot='${a}']`),r=this.querySelector(`[data-slot='${a}']`);r&&n&&(r.innerHTML=n.innerHTML)})}});
