var l=Object.defineProperty;var w=(s,e,t)=>e in s?l(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var o=(s,e,t)=>w(s,typeof e!="symbol"?e+"":e,t);window.customElements.define("wc-product-card-colorways",class extends HTMLElement{constructor(){super();o(this,"swatchBtns",null);o(this,"handle");this.onSwatchChange=this.onSwatchChange.bind(this)}disconnectedCallback(){this.kill()}connectedCallback(){this.init()}init(){var t;this.swatchBtns=this.querySelectorAll("button.swatch"),(t=this.swatchBtns)==null||t.forEach(a=>a.addEventListener("click",this.onSwatchChange))}kill(){var t;(t=this.swatchBtns)==null||t.forEach(a=>a.removeEventListener("click",this.onSwatchChange))}async onSwatchChange(t){var i;const a=t.target,{handle:n}=a.dataset;if(!n||this.dataset.handle===n)return;(i=this.swatchBtns)==null||i.forEach(h=>{const d=h===a?"true":"false";h.dataset.selected=d,h.setAttribute("aria-selected",d)}),this.dataset.loading="true";const{data:r,error:c}=await window.Utils.fatche(`/products/${n}`,{view:"card"});if(this.dataset.loading="false",!r||c){console.error(c);return}this.dataset.handle=n,this.renderProductCard(r.html,["images","info"])}renderProductCard(t,a){const n=new DOMParser().parseFromString(t,"text/html");a.forEach(r=>{const c=n.querySelector(`[data-slot='${r}']`),i=this.querySelector(`[data-slot='${r}']`);i&&c&&(i.innerHTML=c.innerHTML)})}});
