const y=new DOMParser;function d(r,e){return r==null?void 0:r.replace(/_(pico|16x16|icon|32x32|thumb|50x50|small|100x100|compact|160x160|medium|240x240|large|480x480|grande|600x600|original|1024x1024|2048x2048|master)+\./g,".").replace(/\.jpg|\.png|\.gif|\.jpeg/g,t=>`_${e}${t}`)}function g(r,e){return e.map(t=>`${d(r,`${t}x`)} ${t}w`).join(", ")}function l(r,e){const t=[];function n(c,a){const s=a??"";t.push(encodeURIComponent(c)+"="+encodeURIComponent(s))}function o(c,a){if(Array.isArray(a))a.forEach((s,p)=>{/\[\]$/.test(c)?n(c,s):o(c+"["+(typeof s=="object"&&s?p:"")+"]",s)});else if(typeof a=="object")for(let s in a)a.hasOwnProperty(s)&&o(c+"["+s+"]",a[s]);else n(c,a)}if(Array.isArray(r))r.forEach((c,a)=>{o(e+"["+a+"]",c)});else for(let c in r)r.hasOwnProperty(c)&&o(e?e+"["+c+"]":c,r[c]);return t.join("&")}const i=new Map,u=new Map;async function f(r,e={}){if(!r)return{data:null,error:"No URL provided"};const t=l(e),n=t?`${r}?${t}`:r;if(u.has(n))return{data:u.get(n)};if(i.has(n))return i.get(n);try{const o=h(r,e).then(({data:c,error:a})=>{if(a)throw new Error(a);return u.set(n,c),i.delete(n),{data:c}});return i.set(n,o),await o}catch(o){return i.delete(n),console.error("Fetch error:",o instanceof Error?o.message:o),{data:null,error:o instanceof Error?o.message:"Unknown error"}}}async function h(r,e={}){if(!r)return{data:null,error:"No URL provided"};const t=l(e),n=t?`${r}?${t}`:r;try{const o=await fetch(n);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return{data:await o.json()}}catch(o){return console.error("Fetch error:",o instanceof Error?o.message:o),{data:null,error:o instanceof Error?o.message:"Unknown error"}}}async function w(r,e={}){try{const t=await fetch(r,{method:"POST",...e});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{data:await t.json()}}catch(t){return console.error("Post error:",t instanceof Error?t.message:t),{data:null,error:t instanceof Error?t.message:"Unknown error"}}}function P(r){return new URLSearchParams(window.location.search).get(r)}async function $(r){if(!r)return console.error("fetchColorways: tag is required"),{error:"tag is required"};const{data:e,error:t}=await f(`/collections/all/${r}`,{view:"json",sort_by:"created-descending"});return t||!e?(console.error("fetchColorways: fetch error",t??"No colorways data found"),{error:t??"No colorways data found"}):{colorways:e.products}}async function E(r){if(!r)return console.error("fetchProduct: handle is required"),{error:"handle is required"};const{data:e,error:t}=await f(`/products/${r}`,{view:"json"});return t?(console.error("fetchProduct: Shopify fetch error",t),{error:t}):e?{product:e}:(console.error("fetchProduct: No product data found in response"),{error:"No product data found"})}function k(r,e){return Array.from({length:Math.ceil(r.length/e)},(t,n)=>r.slice(n*e,n*e+e))}function C(r,e=null){try{return JSON.parse(r)}catch(t){return console.error("Error parsing JSON:",t),e}}function m(r,e){const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(const o of t){if(!e.hasOwnProperty(o))return!1;if(typeof r[o]=="object"&&typeof e[o]=="object"){if(!m(r[o],e[o]))return!1}else if(r[o]!==e[o])return!1}return!0}function S(){document.documentElement.classList.add("overflow-clip")}function U(){document.documentElement.classList.remove("overflow-clip")}function N(r,e={}){document.dispatchEvent(new CustomEvent(r,{detail:e}))}function O(r,e=null){try{const t=localStorage.getItem(r);if(t===null)return e;try{const n=JSON.parse(t);if(typeof n=="object"&&n!==null)return n}catch{}if(typeof e=="number"){const n=parseFloat(t);return isNaN(n)?e:n}else if(typeof e=="boolean")return t==="true";return t}catch(t){return console.error(`Error retrieving item from localStorage for key "${r}":`,t),e}}function R({name:r,value:e,hours:t=24}){if(!r||!e){console.error("setCookie: name and value are required");return}t?document.cookie=`${r}=${encodeURIComponent(e)};expires=${new Date(Date.now()+t*60*60*1e3).toUTCString()}; path=/`:document.cookie=`${r}=${encodeURIComponent(e)}; path=/`}function T(r){const e=document.cookie.match(`(?:^|; )${r}=([^;]*)`);return e?decodeURIComponent(e[1]):null}function x(r){document.cookie=`${r}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}const I=Object.freeze(Object.defineProperty({__proto__:null,chunk:k,deleteCookie:x,disableScrollLock:U,dispatchEvent:N,domParser:y,enableScrollLock:S,fatche:f,fatcheCache:u,fatchePendingRequests:i,fetchColorwaysByTag:$,fetchProductByHandle:E,fetchx:h,generateImgSrcset:g,getCookie:T,getFromLocalStorage:O,getURLParameter:P,isEqual:m,parseJSON:C,postx:w,resizeImage:d,serializeParam:l,setCookie:R},Symbol.toStringTag,{value:"Module"}));window.Utils=I;
