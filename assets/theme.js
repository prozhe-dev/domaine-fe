function d(e,r){return e==null?void 0:e.replace(/_(pico|16x16|icon|32x32|thumb|50x50|small|100x100|compact|160x160|medium|240x240|large|480x480|grande|600x600|original|1024x1024|2048x2048|master)+\./g,".").replace(/\.jpg|\.png|\.gif|\.jpeg/g,t=>`_${r}${t}`)}function y(e,r){return r.map(t=>`${d(e,`${t}x`)} ${t}w`).join(", ")}function f(e,r){const t=[];function n(c,s){const a=s??"";t.push(encodeURIComponent(c)+"="+encodeURIComponent(a))}function o(c,s){if(Array.isArray(s))s.forEach((a,m)=>{/\[\]$/.test(c)?n(c,a):o(c+"["+(typeof a=="object"&&a?m:"")+"]",a)});else if(typeof s=="object")for(let a in s)s.hasOwnProperty(a)&&o(c+"["+a+"]",s[a]);else n(c,s)}if(Array.isArray(e))e.forEach((c,s)=>{o(r+"["+s+"]",c)});else for(let c in e)e.hasOwnProperty(c)&&o(r?r+"["+c+"]":c,e[c]);return t.join("&")}const i=new Map,u=new Map;async function l(e,r={}){if(!e)return{data:null,error:"No URL provided"};const t=f(r),n=t?`${e}?${t}`:e;if(u.has(n))return{data:u.get(n)};if(i.has(n))return i.get(n);try{const o=p(e,r).then(({data:c,error:s})=>{if(s)throw new Error(s);return u.set(n,c),i.delete(n),{data:c}});return i.set(n,o),await o}catch(o){return i.delete(n),console.error("Fetch error:",o instanceof Error?o.message:o),{data:null,error:o instanceof Error?o.message:"Unknown error"}}}async function p(e,r={}){if(!e)return{data:null,error:"No URL provided"};const t=f(r),n=t?`${e}?${t}`:e;try{const o=await fetch(n);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return{data:await o.json()}}catch(o){return console.error("Fetch error:",o instanceof Error?o.message:o),{data:null,error:o instanceof Error?o.message:"Unknown error"}}}async function g(e,r={}){try{const t=await fetch(e,{method:"POST",...r});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{data:await t.json()}}catch(t){return console.error("Post error:",t instanceof Error?t.message:t),{data:null,error:t instanceof Error?t.message:"Unknown error"}}}function w(e){return new URLSearchParams(window.location.search).get(e)}async function $(e){if(!e)return console.error("fetchColorways: sid is required"),{error:"sid is required"};const{data:r,error:t}=await l(`/collections/all/sid:${e}`,{view:"json",sort_by:"created-descending"});return t||!r?(console.error("fetchColorways: fetch error",t??"No colorways data found"),{error:t??"No colorways data found"}):{colorways:r.products}}async function E(e){if(!e)return console.error("fetchProduct: handle is required"),{error:"handle is required"};const{data:r,error:t}=await l(`/products/${e}`,{view:"json"});return t?(console.error("fetchProduct: Shopify fetch error",t),{error:t}):r?{product:r}:(console.error("fetchProduct: No product data found in response"),{error:"No product data found"})}function k(e,r){return Array.from({length:Math.ceil(e.length/r)},(t,n)=>e.slice(n*r,n*r+r))}function P(e,r=null){try{return JSON.parse(e)}catch(t){return console.error("Error parsing JSON:",t),r}}function h(e,r){const t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(const o of t){if(!r.hasOwnProperty(o))return!1;if(typeof e[o]=="object"&&typeof r[o]=="object"){if(!h(e[o],r[o]))return!1}else if(e[o]!==r[o])return!1}return!0}function S(){document.documentElement.classList.add("overflow-clip")}function U(){document.documentElement.classList.remove("overflow-clip")}function C(e,r={}){document.dispatchEvent(new CustomEvent(e,{detail:r}))}function N(e,r=null){try{const t=localStorage.getItem(e);if(t===null)return r;try{const n=JSON.parse(t);if(typeof n=="object"&&n!==null)return n}catch{}if(typeof r=="number"){const n=parseFloat(t);return isNaN(n)?r:n}else if(typeof r=="boolean")return t==="true";return t}catch(t){return console.error(`Error retrieving item from localStorage for key "${e}":`,t),r}}function O({name:e,value:r,hours:t=24}){if(!e||!r){console.error("setCookie: name and value are required");return}t?document.cookie=`${e}=${encodeURIComponent(r)};expires=${new Date(Date.now()+t*60*60*1e3).toUTCString()}; path=/`:document.cookie=`${e}=${encodeURIComponent(r)}; path=/`}function q(e){const r=document.cookie.match(`(?:^|; )${e}=([^;]*)`);return r?decodeURIComponent(r[1]):null}function v(e){document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}const I=Object.freeze(Object.defineProperty({__proto__:null,chunk:k,deleteCookie:v,disableScrollLock:U,dispatchEvent:C,enableScrollLock:S,fatche:l,fetchColorways:$,fetchProductByHandle:E,fetch_cache:u,fetchx:p,generateImgSrcset:y,getCookie:q,getFromLocalStorage:N,getURLParameter:w,isEqual:h,parseJSON:P,pending_requests:i,post:g,resizeImage:d,serializeParam:f,setCookie:O},Symbol.toStringTag,{value:"Module"}));window.Utils=I;
